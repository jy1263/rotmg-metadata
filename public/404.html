<html lang="en">
    <head>
        <title>
            Directory Listing
        </title>
    </head>
    <body>
        <script>
            let split_path = window.location.pathname.split("/").filter((e) => e.length !== 0);
            let repo_name = split_path.shift();
            (async () => {
                const response = await fetch(`https://api.github.com/repos/rotmg-mirror/${repo_name}/contents/${split_path.join("/")}/?ref=gh-pages`);
                const data = await response.json();
                let htmlString = '<ul>';
                
                for (let file of data) {
                htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
                }

                htmlString += '</ul>';
                document.getElementsByTagName('body')[0].innerHTML = htmlString;
            })()
        </script>
    <body>
</html>
