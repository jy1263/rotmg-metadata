<html lang="en">
    <head>
        <title>
            Directory Listing
        </title>
    </head>
    <body>
        <script>
            console.log(window.location.pathname);
            (async () => {
                const response = await fetch(`https://api.github.com/repos/rotmg-mirror/rotmg-metadata/contents/${window.location.pathname}/?ref=gh-pages`);
                const data = await response.json();
                let htmlString = '<ul>';
                
                for (let file of data) {
                htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
                }

                htmlString += '</ul>';
                document.getElementsByTagName('body')[0].innerHTML = htmlString;
            })()
        </script>
    <body>
</html>
